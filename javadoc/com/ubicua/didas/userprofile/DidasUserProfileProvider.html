<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (20) on Tue Apr 22 12:57:59 CEST 2025 -->
<title>DidasUserProfileProvider</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2025-04-22">
<meta name="description" content="declaration: package: com.ubicua.didas.userprofile, class: DidasUserProfileProvider">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/DidasUserProfileProvider.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li>Nested</li>
<li><a href="#field-summary">Field</a></li>
<li><a href="#constructor-summary">Constr</a></li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li><a href="#field-detail">Field</a></li>
<li><a href="#constructor-detail">Constr</a></li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">com.ubicua.didas.userprofile</a></div>
<h1 title="Class DidasUserProfileProvider" class="title">Class DidasUserProfileProvider</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">org.keycloak.userprofile.DeclarativeUserProfileProvider
<div class="inheritance">com.ubicua.didas.userprofile.DidasUserProfileProvider</div>
</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code>org.keycloak.provider.Provider</code>, <code>org.keycloak.userprofile.UserProfileProvider</code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">DidasUserProfileProvider</span>
<span class="extends-implements">extends org.keycloak.userprofile.DeclarativeUserProfileProvider</span></div>
<div class="block">Implementation of <code>UserProfileProvider</code> that loads and caches
 declarative user profile metadata from JSON stored in the component configuration.
 <p>
 It applies additional request-time logic, such as vehicle-based
 authorization for service accounts, and merges realm/component
 overrides into the base metadata for each context.
 </p></div>
<dl class="notes">
<dt>Author:</dt>
<dd>Ivan Kuchumov</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>protected static final <a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><a href="#CLIENT_ID" class="member-name-link">CLIENT_ID</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>private final <a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;org.keycloak.userprofile.UserProfileContext,<wbr>org.keycloak.userprofile.UserProfileMetadata&gt;</code></div>
<div class="col-second odd-row-color"><code><a href="#contextualMetadataRegistry" class="member-name-link">contextualMetadataRegistry</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>protected static final <a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><a href="#HOLDER_ROLE" class="member-name-link">HOLDER_ROLE</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>private static final org.jboss.logging.Logger</code></div>
<div class="col-second odd-row-color"><code><a href="#logger" class="member-name-link">logger</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>protected static final <a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><a href="#NO_ASIGNADO" class="member-name-link">NO_ASIGNADO</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>protected static final <a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color"><code><a href="#PARSED_CONFIG_COMPONENT_KEY" class="member-name-link">PARSED_CONFIG_COMPONENT_KEY</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>protected static final <a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><a href="#PARSED_UP_CONFIG_COMPONENT_KEY" class="member-name-link">PARSED_UP_CONFIG_COMPONENT_KEY</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>protected final org.keycloak.representations.userprofile.config.UPConfig</code></div>
<div class="col-second odd-row-color"><code><a href="#parsedDefaultRawConfig" class="member-name-link">parsedDefaultRawConfig</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>private final <a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><a href="#providerId" class="member-name-link">providerId</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>private final org.keycloak.models.KeycloakSession</code></div>
<div class="col-second odd-row-color"><code><a href="#session" class="member-name-link">session</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>static final <a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><a href="#UP_COMPONENT_CONFIG_KEY" class="member-name-link">UP_COMPONENT_CONFIG_KEY</a></code></div>
<div class="col-last even-row-color">
<div class="block">Key for storing parsed configuration in component notes.</div>
</div>
<div class="col-first odd-row-color"><code>protected static final <a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color"><code><a href="#UP_COMPONENT_CONFIG_USER_PLATE" class="member-name-link">UP_COMPONENT_CONFIG_USER_PLATE</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>protected static final <a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><a href="#UP_COMPONENT_CONFIG_USER_VEHICLE" class="member-name-link">UP_COMPONENT_CONFIG_USER_VEHICLE</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>protected static final <a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color"><code><a href="#UP_COMPONENT_CONFIG_VEHICLE_LIST" class="member-name-link">UP_COMPONENT_CONFIG_VEHICLE_LIST</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(org.keycloak.models.KeycloakSession,com.ubicua.didas.userprofile.DidasUserProfileProviderFactory)" class="member-name-link">DidasUserProfileProvider</a><wbr>(org.keycloak.models.KeycloakSession&nbsp;session,
 <a href="DidasUserProfileProviderFactory.html" title="class in com.ubicua.didas.userprofile">DidasUserProfileProviderFactory</a>&nbsp;factory)</code></div>
<div class="col-last even-row-color">
<div class="block">Constructs a new provider.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private <a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr>org.keycloak.representations.userprofile.config.UPGroup&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#asHashMap(java.util.List)" class="member-name-link">asHashMap</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;org.keycloak.representations.userprofile.config.UPGroup&gt;&nbsp;groups)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Converts a list of <code>UPGroup</code> into a map keyed by group name.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#close()" class="member-name-link">close</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">No-op cleanup when provider is closed.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected org.keycloak.userprofile.UserProfileMetadata</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#configureUserProfile(org.keycloak.userprofile.UserProfileMetadata,org.keycloak.models.KeycloakSession)" class="member-name-link">configureUserProfile</a><wbr>(org.keycloak.userprofile.UserProfileMetadata&nbsp;metadata,
 org.keycloak.models.KeycloakSession&nbsp;session)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Applies realm-specific component configuration to metadata, with caching.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>org.keycloak.userprofile.UserProfile</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#create(org.keycloak.userprofile.UserProfileContext,java.util.Map)" class="member-name-link">create</a><wbr>(org.keycloak.userprofile.UserProfileContext&nbsp;context,
 <a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr>?&gt;&nbsp;attributes)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Creates a UserProfile for contexts where no user model exists (e.g., registration).</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>org.keycloak.userprofile.UserProfile</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#create(org.keycloak.userprofile.UserProfileContext,java.util.Map,org.keycloak.models.UserModel)" class="member-name-link">create</a><wbr>(org.keycloak.userprofile.UserProfileContext&nbsp;context,
 <a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr>?&gt;&nbsp;attributes,
 org.keycloak.models.UserModel&nbsp;user)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Creates a UserProfile for API contexts without user model.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>org.keycloak.userprofile.UserProfile</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#create(org.keycloak.userprofile.UserProfileContext,org.keycloak.models.UserModel)" class="member-name-link">create</a><wbr>(org.keycloak.userprofile.UserProfileContext&nbsp;context,
 org.keycloak.models.UserModel&nbsp;user)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Entry point for creating a user profile with vehicle-based
 authorization logic.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected org.keycloak.userprofile.Attributes</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#createAttributes(org.keycloak.userprofile.UserProfileContext,java.util.Map,org.keycloak.models.UserModel,org.keycloak.userprofile.UserProfileMetadata)" class="member-name-link">createAttributes</a><wbr>(org.keycloak.userprofile.UserProfileContext&nbsp;context,
 <a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr>?&gt;&nbsp;attributes,
 org.keycloak.models.UserModel&nbsp;user,
 org.keycloak.userprofile.UserProfileMetadata&nbsp;metadata)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Creates user attributes wrapper depending on user type (service account or default).</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected org.keycloak.component.ComponentModel</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#createComponentModel()" class="member-name-link">createComponentModel</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Creates the initial component model to store UPConfig when none exists.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected org.keycloak.userprofile.AttributeValidatorMetadata</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#createConfiguredValidator(java.lang.String,java.util.Map)" class="member-name-link">createConfiguredValidator</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;validator,
 <a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&gt;&nbsp;validatorConfig)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Constructs validator metadata for user-defined validation rules.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private <a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/function/Function.html" title="class or interface in java.util.function" class="external-link">Function</a>&lt;org.keycloak.userprofile.UserProfileContext,<wbr>org.keycloak.userprofile.UserProfileMetadata&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#createUserDefinedProfileDecorator(org.keycloak.models.KeycloakSession,org.keycloak.userprofile.UserProfileMetadata,org.keycloak.component.ComponentModel)" class="member-name-link">createUserDefinedProfileDecorator</a><wbr>(org.keycloak.models.KeycloakSession&nbsp;session,
 org.keycloak.userprofile.UserProfileMetadata&nbsp;decoratedMetadata,
 org.keycloak.component.ComponentModel&nbsp;component)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Creates a decorator function to apply user-defined metadata per context.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private <a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/function/Function.html" title="class or interface in java.util.function" class="external-link">Function</a>&lt;org.keycloak.userprofile.Attributes,<wbr>org.keycloak.models.UserModel&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#createUserFactory()" class="member-name-link">createUserFactory</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Provides a factory function to create new UserModel instances during registration flows.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private org.keycloak.userprofile.UserProfile</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#createUserProfile(org.keycloak.userprofile.UserProfileContext,java.util.Map,org.keycloak.models.UserModel)" class="member-name-link">createUserProfile</a><wbr>(org.keycloak.userprofile.UserProfileContext&nbsp;context,
 <a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr>?&gt;&nbsp;attributes,
 org.keycloak.models.UserModel&nbsp;user)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Core method that instantiates <code>DefaultUserProfile</code>
 by retrieving and decorating the base metadata for the given context,
 wrapping raw attributes, and providing a user factory.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private <a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/function/Predicate.html" title="class or interface in java.util.function" class="external-link">Predicate</a>&lt;org.keycloak.userprofile.AttributeContext&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#createViewAllowedPredicate(java.util.function.Predicate,java.util.Set)" class="member-name-link">createViewAllowedPredicate</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/function/Predicate.html" title="class or interface in java.util.function" class="external-link">Predicate</a>&lt;org.keycloak.userprofile.AttributeContext&gt;&nbsp;canEdit,
 <a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;viewRoles)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Creates a predicate combining view roles and edit permission.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected org.keycloak.userprofile.UserProfileMetadata</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#decorateUserProfileForCache(org.keycloak.userprofile.UserProfileMetadata,org.keycloak.representations.userprofile.config.UPConfig)" class="member-name-link">decorateUserProfileForCache</a><wbr>(org.keycloak.userprofile.UserProfileMetadata&nbsp;decoratedMetadata,
 org.keycloak.representations.userprofile.config.UPConfig&nbsp;parsedConfig)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Decorate basic metadata based on 'per realm' configuration.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private <a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link">Optional</a>&lt;org.keycloak.component.ComponentModel&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getComponentModel()" class="member-name-link">getComponentModel</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Finds the component model storing UPConfig for this provider.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private org.keycloak.representations.userprofile.config.UPConfig</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getConfigFromComponentModel(org.keycloak.component.ComponentModel)" class="member-name-link">getConfigFromComponentModel</a><wbr>(org.keycloak.component.ComponentModel&nbsp;model)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Retrieves the UPConfig cached in the component or parses anew.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>org.keycloak.representations.userprofile.config.UPConfig</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getConfiguration()" class="member-name-link">getConfiguration</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Retrieves effective UPConfig for current component or default.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private org.keycloak.representations.userprofile.config.UPConfig</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getParsedConfigFromCache(org.keycloak.component.ComponentModel)" class="member-name-link">getParsedConfigFromCache</a><wbr>(org.keycloak.component.ComponentModel&nbsp;component)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Retrieves cached UPConfig from component notes.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isBuiltInAttribute(java.lang.String)" class="member-name-link">isBuiltInAttribute</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;attributeName)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Determines whether a given attribute name is a built-in Keycloak attribute.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isOptionalBuiltInAttribute(java.lang.String)" class="member-name-link">isOptionalBuiltInAttribute</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;attributeName)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Determines whether a given attribute name is an optional built-in attribute.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isServiceAccountUser(org.keycloak.models.UserModel)" class="member-name-link">isServiceAccountUser</a><wbr>(org.keycloak.models.UserModel&nbsp;user)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Checks if the given user is a service account.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private org.keycloak.representations.userprofile.config.UPConfig</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#parseAndCacheConfig(org.keycloak.component.ComponentModel)" class="member-name-link">parseAndCacheConfig</a><wbr>(org.keycloak.component.ComponentModel&nbsp;model)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Parses and caches UPConfig in the given component model.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected org.keycloak.representations.userprofile.config.UPConfig</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#parseConfigOrDefault(org.keycloak.component.ComponentModel)" class="member-name-link">parseConfigOrDefault</a><wbr>(org.keycloak.component.ComponentModel&nbsp;component)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Parses raw JSON from component or falls back to default parsed config.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#removeConfigJsonFromComponentModel(org.keycloak.component.ComponentModel)" class="member-name-link">removeConfigJsonFromComponentModel</a><wbr>(org.keycloak.component.ComponentModel&nbsp;model)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Removes raw JSON config from component, forcing re-parse next time.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>private static boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#requestedScopePredicate(org.keycloak.userprofile.AttributeContext,java.util.Set)" class="member-name-link">requestedScopePredicate</a><wbr>(org.keycloak.userprofile.AttributeContext&nbsp;context,
 <a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;configuredScopes)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Method used for predicate which returns true if any of the configuredScopes is requested in current auth flow.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setConfiguration(org.keycloak.representations.userprofile.config.UPConfig)" class="member-name-link">setConfiguration</a><wbr>(org.keycloak.representations.userprofile.config.UPConfig&nbsp;configuration)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Persists updated UPConfig into the realm's component model.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private org.keycloak.userprofile.AttributeGroupMetadata</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#toAttributeGroupMeta(org.keycloak.representations.userprofile.config.UPGroup)" class="member-name-link">toAttributeGroupMeta</a><wbr>(org.keycloak.representations.userprofile.config.UPGroup&nbsp;group)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Creates an <code>AttributeGroupMetadata</code> from a UPGroup definition.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="logger">
<h3>logger</h3>
<div class="member-signature"><span class="modifiers">private static final</span>&nbsp;<span class="return-type">org.jboss.logging.Logger</span>&nbsp;<span class="element-name">logger</span></div>
</section>
</li>
<li>
<section class="detail" id="UP_COMPONENT_CONFIG_KEY">
<h3>UP_COMPONENT_CONFIG_KEY</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">UP_COMPONENT_CONFIG_KEY</span></div>
<div class="block">Key for storing parsed configuration in component notes.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="../../../../constant-values.html#com.ubicua.didas.userprofile.DidasUserProfileProvider.UP_COMPONENT_CONFIG_KEY">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="PARSED_CONFIG_COMPONENT_KEY">
<h3>PARSED_CONFIG_COMPONENT_KEY</h3>
<div class="member-signature"><span class="modifiers">protected static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">PARSED_CONFIG_COMPONENT_KEY</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="../../../../constant-values.html#com.ubicua.didas.userprofile.DidasUserProfileProvider.PARSED_CONFIG_COMPONENT_KEY">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="PARSED_UP_CONFIG_COMPONENT_KEY">
<h3>PARSED_UP_CONFIG_COMPONENT_KEY</h3>
<div class="member-signature"><span class="modifiers">protected static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">PARSED_UP_CONFIG_COMPONENT_KEY</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="../../../../constant-values.html#com.ubicua.didas.userprofile.DidasUserProfileProvider.PARSED_UP_CONFIG_COMPONENT_KEY">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="UP_COMPONENT_CONFIG_VEHICLE_LIST">
<h3>UP_COMPONENT_CONFIG_VEHICLE_LIST</h3>
<div class="member-signature"><span class="modifiers">protected static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">UP_COMPONENT_CONFIG_VEHICLE_LIST</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="../../../../constant-values.html#com.ubicua.didas.userprofile.DidasUserProfileProvider.UP_COMPONENT_CONFIG_VEHICLE_LIST">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="UP_COMPONENT_CONFIG_USER_VEHICLE">
<h3>UP_COMPONENT_CONFIG_USER_VEHICLE</h3>
<div class="member-signature"><span class="modifiers">protected static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">UP_COMPONENT_CONFIG_USER_VEHICLE</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="../../../../constant-values.html#com.ubicua.didas.userprofile.DidasUserProfileProvider.UP_COMPONENT_CONFIG_USER_VEHICLE">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="UP_COMPONENT_CONFIG_USER_PLATE">
<h3>UP_COMPONENT_CONFIG_USER_PLATE</h3>
<div class="member-signature"><span class="modifiers">protected static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">UP_COMPONENT_CONFIG_USER_PLATE</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="../../../../constant-values.html#com.ubicua.didas.userprofile.DidasUserProfileProvider.UP_COMPONENT_CONFIG_USER_PLATE">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="NO_ASIGNADO">
<h3>NO_ASIGNADO</h3>
<div class="member-signature"><span class="modifiers">protected static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">NO_ASIGNADO</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="../../../../constant-values.html#com.ubicua.didas.userprofile.DidasUserProfileProvider.NO_ASIGNADO">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="HOLDER_ROLE">
<h3>HOLDER_ROLE</h3>
<div class="member-signature"><span class="modifiers">protected static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">HOLDER_ROLE</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="../../../../constant-values.html#com.ubicua.didas.userprofile.DidasUserProfileProvider.HOLDER_ROLE">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="CLIENT_ID">
<h3>CLIENT_ID</h3>
<div class="member-signature"><span class="modifiers">protected static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">CLIENT_ID</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="../../../../constant-values.html#com.ubicua.didas.userprofile.DidasUserProfileProvider.CLIENT_ID">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="session">
<h3>session</h3>
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type">org.keycloak.models.KeycloakSession</span>&nbsp;<span class="element-name">session</span></div>
</section>
</li>
<li>
<section class="detail" id="providerId">
<h3>providerId</h3>
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">providerId</span></div>
</section>
</li>
<li>
<section class="detail" id="contextualMetadataRegistry">
<h3>contextualMetadataRegistry</h3>
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;org.keycloak.userprofile.UserProfileContext,<wbr>org.keycloak.userprofile.UserProfileMetadata&gt;</span>&nbsp;<span class="element-name">contextualMetadataRegistry</span></div>
</section>
</li>
<li>
<section class="detail" id="parsedDefaultRawConfig">
<h3>parsedDefaultRawConfig</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type">org.keycloak.representations.userprofile.config.UPConfig</span>&nbsp;<span class="element-name">parsedDefaultRawConfig</span></div>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(org.keycloak.models.KeycloakSession,com.ubicua.didas.userprofile.DidasUserProfileProviderFactory)">
<h3>DidasUserProfileProvider</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">DidasUserProfileProvider</span><wbr><span class="parameters">(org.keycloak.models.KeycloakSession&nbsp;session,
 <a href="DidasUserProfileProviderFactory.html" title="class in com.ubicua.didas.userprofile">DidasUserProfileProviderFactory</a>&nbsp;factory)</span></div>
<div class="block">Constructs a new provider.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>session</code> - active Keycloak session</dd>
<dd><code>factory</code> - factory that created this provider</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="requestedScopePredicate(org.keycloak.userprofile.AttributeContext,java.util.Set)">
<h3>requestedScopePredicate</h3>
<div class="member-signature"><span class="modifiers">private static</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">requestedScopePredicate</span><wbr><span class="parameters">(org.keycloak.userprofile.AttributeContext&nbsp;context,
 <a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;configuredScopes)</span></div>
<div class="block">Method used for predicate which returns true if any of the configuredScopes is requested in current auth flow.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>context</code> - to get current auth flow from</dd>
<dd><code>configuredScopes</code> - to be evaluated</dd>
<dt>Returns:</dt>
</dl>
</section>
</li>
<li>
<section class="detail" id="createAttributes(org.keycloak.userprofile.UserProfileContext,java.util.Map,org.keycloak.models.UserModel,org.keycloak.userprofile.UserProfileMetadata)">
<h3>createAttributes</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">org.keycloak.userprofile.Attributes</span>&nbsp;<span class="element-name">createAttributes</span><wbr><span class="parameters">(org.keycloak.userprofile.UserProfileContext&nbsp;context,
 <a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr>?&gt;&nbsp;attributes,
 org.keycloak.models.UserModel&nbsp;user,
 org.keycloak.userprofile.UserProfileMetadata&nbsp;metadata)</span></div>
<div class="block">Creates user attributes wrapper depending on user type (service account or default).</div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code>createAttributes</code>&nbsp;in class&nbsp;<code>org.keycloak.userprofile.DeclarativeUserProfileProvider</code></dd>
<dt>Parameters:</dt>
<dd><code>context</code> - user profile context</dd>
<dd><code>attributes</code> - raw attribute map</dd>
<dd><code>user</code> - the user model (may be null for new users)</dd>
<dd><code>metadata</code> - profile metadata</dd>
<dt>Returns:</dt>
<dd>Attributes instance providing typed access</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="create(org.keycloak.userprofile.UserProfileContext,org.keycloak.models.UserModel)">
<h3>create</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">org.keycloak.userprofile.UserProfile</span>&nbsp;<span class="element-name">create</span><wbr><span class="parameters">(org.keycloak.userprofile.UserProfileContext&nbsp;context,
 org.keycloak.models.UserModel&nbsp;user)</span></div>
<div class="block">Entry point for creating a user profile with vehicle-based
 authorization logic.
 Performs vehicle-based authorization logic before profile creation.

 <ol>
   <li>Extracts client_id from query parameters.</li>
   <li>Checks if client has 'holder' role and userVehicle attribute.</li>
   <li>Throws <code>WebAuthnException</code> if unauthorized.</li>
 </ol></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code>create</code>&nbsp;in interface&nbsp;<code>org.keycloak.userprofile.UserProfileProvider</code></dd>
<dt>Overrides:</dt>
<dd><code>create</code>&nbsp;in class&nbsp;<code>org.keycloak.userprofile.DeclarativeUserProfileProvider</code></dd>
<dt>Parameters:</dt>
<dd><code>context</code> - profile context (e.g., REGISTRATION, UPDATE_PROFILE)</dd>
<dd><code>user</code> - target user model (nullable for new users)</dd>
<dt>Returns:</dt>
<dd>constructed <code>UserProfile</code></dd>
<dt>Throws:</dt>
<dd><code>com.webauthn4j.util.exception.WebAuthnException</code> - if vehicle-based authorization fails</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="create(org.keycloak.userprofile.UserProfileContext,java.util.Map,org.keycloak.models.UserModel)">
<h3>create</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">org.keycloak.userprofile.UserProfile</span>&nbsp;<span class="element-name">create</span><wbr><span class="parameters">(org.keycloak.userprofile.UserProfileContext&nbsp;context,
 <a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr>?&gt;&nbsp;attributes,
 org.keycloak.models.UserModel&nbsp;user)</span></div>
<div class="block">Creates a UserProfile for API contexts without user model.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code>create</code>&nbsp;in interface&nbsp;<code>org.keycloak.userprofile.UserProfileProvider</code></dd>
<dt>Overrides:</dt>
<dd><code>create</code>&nbsp;in class&nbsp;<code>org.keycloak.userprofile.DeclarativeUserProfileProvider</code></dd>
<dt>Parameters:</dt>
<dd><code>context</code> - user profile context</dd>
<dd><code>attributes</code> - raw attributes map</dd>
<dd><code>user</code> - user model</dd>
<dt>Returns:</dt>
<dd>created UserProfile</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="create(org.keycloak.userprofile.UserProfileContext,java.util.Map)">
<h3>create</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">org.keycloak.userprofile.UserProfile</span>&nbsp;<span class="element-name">create</span><wbr><span class="parameters">(org.keycloak.userprofile.UserProfileContext&nbsp;context,
 <a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr>?&gt;&nbsp;attributes)</span></div>
<div class="block">Creates a UserProfile for contexts where no user model exists (e.g., registration).</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code>create</code>&nbsp;in interface&nbsp;<code>org.keycloak.userprofile.UserProfileProvider</code></dd>
<dt>Overrides:</dt>
<dd><code>create</code>&nbsp;in class&nbsp;<code>org.keycloak.userprofile.DeclarativeUserProfileProvider</code></dd>
<dt>Parameters:</dt>
<dd><code>context</code> - user profile context</dd>
<dd><code>attributes</code> - raw attributes map</dd>
<dt>Returns:</dt>
<dd>created UserProfile</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="createUserProfile(org.keycloak.userprofile.UserProfileContext,java.util.Map,org.keycloak.models.UserModel)">
<h3>createUserProfile</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">org.keycloak.userprofile.UserProfile</span>&nbsp;<span class="element-name">createUserProfile</span><wbr><span class="parameters">(org.keycloak.userprofile.UserProfileContext&nbsp;context,
 <a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr>?&gt;&nbsp;attributes,
 org.keycloak.models.UserModel&nbsp;user)</span></div>
<div class="block">Core method that instantiates <code>DefaultUserProfile</code>
 by retrieving and decorating the base metadata for the given context,
 wrapping raw attributes, and providing a user factory.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>context</code> - profile context</dd>
<dd><code>attributes</code> - raw attributes map</dd>
<dd><code>user</code> - user model (or null)</dd>
<dt>Returns:</dt>
<dd><code>DefaultUserProfile</code> instance ready for validation</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="createUserFactory()">
<h3>createUserFactory</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/function/Function.html" title="class or interface in java.util.function" class="external-link">Function</a>&lt;org.keycloak.userprofile.Attributes,<wbr>org.keycloak.models.UserModel&gt;</span>&nbsp;<span class="element-name">createUserFactory</span>()</div>
<div class="block">Provides a factory function to create new UserModel instances during registration flows.
 Caches created user to ensure single instance.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>function mapping Attributes to UserModel</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="configureUserProfile(org.keycloak.userprofile.UserProfileMetadata,org.keycloak.models.KeycloakSession)">
<h3>configureUserProfile</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">org.keycloak.userprofile.UserProfileMetadata</span>&nbsp;<span class="element-name">configureUserProfile</span><wbr><span class="parameters">(org.keycloak.userprofile.UserProfileMetadata&nbsp;metadata,
 org.keycloak.models.KeycloakSession&nbsp;session)</span></div>
<div class="block">Applies realm-specific component configuration to metadata, with caching.</div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code>configureUserProfile</code>&nbsp;in class&nbsp;<code>org.keycloak.userprofile.DeclarativeUserProfileProvider</code></dd>
<dt>Parameters:</dt>
<dd><code>metadata</code> - base metadata</dd>
<dd><code>session</code> - Keycloak session</dd>
<dt>Returns:</dt>
<dd>decorated metadata</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getConfiguration()">
<h3>getConfiguration</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">org.keycloak.representations.userprofile.config.UPConfig</span>&nbsp;<span class="element-name">getConfiguration</span>()</div>
<div class="block">Retrieves effective UPConfig for current component or default.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code>getConfiguration</code>&nbsp;in interface&nbsp;<code>org.keycloak.userprofile.UserProfileProvider</code></dd>
<dt>Overrides:</dt>
<dd><code>getConfiguration</code>&nbsp;in class&nbsp;<code>org.keycloak.userprofile.DeclarativeUserProfileProvider</code></dd>
<dt>Returns:</dt>
<dd>UPConfig instance to use</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setConfiguration(org.keycloak.representations.userprofile.config.UPConfig)">
<h3>setConfiguration</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setConfiguration</span><wbr><span class="parameters">(org.keycloak.representations.userprofile.config.UPConfig&nbsp;configuration)</span></div>
<div class="block">Persists updated UPConfig into the realm's component model.
 Adds custom vehicle attributes before serialization.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code>setConfiguration</code>&nbsp;in interface&nbsp;<code>org.keycloak.userprofile.UserProfileProvider</code></dd>
<dt>Overrides:</dt>
<dd><code>setConfiguration</code>&nbsp;in class&nbsp;<code>org.keycloak.userprofile.DeclarativeUserProfileProvider</code></dd>
<dt>Parameters:</dt>
<dd><code>configuration</code> - new UPConfig to save</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getComponentModel()">
<h3>getComponentModel</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link">Optional</a>&lt;org.keycloak.component.ComponentModel&gt;</span>&nbsp;<span class="element-name">getComponentModel</span>()</div>
<div class="block">Finds the component model storing UPConfig for this provider.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>Optional of ComponentModel</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="decorateUserProfileForCache(org.keycloak.userprofile.UserProfileMetadata,org.keycloak.representations.userprofile.config.UPConfig)">
<h3>decorateUserProfileForCache</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">org.keycloak.userprofile.UserProfileMetadata</span>&nbsp;<span class="element-name">decorateUserProfileForCache</span><wbr><span class="parameters">(org.keycloak.userprofile.UserProfileMetadata&nbsp;decoratedMetadata,
 org.keycloak.representations.userprofile.config.UPConfig&nbsp;parsedConfig)</span></div>
<div class="block">Decorate basic metadata based on 'per realm' configuration.
 This method is called for each <code>UserProfileContext</code> in each realm, and metadata are cached then and this
 method is called again only if configuration changes.</div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code>decorateUserProfileForCache</code>&nbsp;in class&nbsp;<code>org.keycloak.userprofile.DeclarativeUserProfileProvider</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="asHashMap(java.util.List)">
<h3>asHashMap</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr>org.keycloak.representations.userprofile.config.UPGroup&gt;</span>&nbsp;<span class="element-name">asHashMap</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;org.keycloak.representations.userprofile.config.UPGroup&gt;&nbsp;groups)</span></div>
<div class="block">Converts a list of <code>UPGroup</code> into a map keyed by group name.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>groups</code> - list of UPGroup instances</dd>
<dt>Returns:</dt>
<dd>map from group name to UPGroup</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="toAttributeGroupMeta(org.keycloak.representations.userprofile.config.UPGroup)">
<h3>toAttributeGroupMeta</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">org.keycloak.userprofile.AttributeGroupMetadata</span>&nbsp;<span class="element-name">toAttributeGroupMeta</span><wbr><span class="parameters">(org.keycloak.representations.userprofile.config.UPGroup&nbsp;group)</span></div>
<div class="block">Creates an <code>AttributeGroupMetadata</code> from a UPGroup definition.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>group</code> - UPGroup containing group configuration</dd>
<dt>Returns:</dt>
<dd>AttributeGroupMetadata or null if group is null</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isBuiltInAttribute(java.lang.String)">
<h3>isBuiltInAttribute</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isBuiltInAttribute</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;attributeName)</span></div>
<div class="block">Determines whether a given attribute name is a built-in Keycloak attribute.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>attributeName</code> - name of the attribute</dd>
<dt>Returns:</dt>
<dd>true if attribute is 'username' or 'email'</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isOptionalBuiltInAttribute(java.lang.String)">
<h3>isOptionalBuiltInAttribute</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isOptionalBuiltInAttribute</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;attributeName)</span></div>
<div class="block">Determines whether a given attribute name is an optional built-in attribute.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>attributeName</code> - name of the attribute</dd>
<dt>Returns:</dt>
<dd>true if attribute is 'firstName' or 'lastName'</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="createViewAllowedPredicate(java.util.function.Predicate,java.util.Set)">
<h3>createViewAllowedPredicate</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/function/Predicate.html" title="class or interface in java.util.function" class="external-link">Predicate</a>&lt;org.keycloak.userprofile.AttributeContext&gt;</span>&nbsp;<span class="element-name">createViewAllowedPredicate</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/function/Predicate.html" title="class or interface in java.util.function" class="external-link">Predicate</a>&lt;org.keycloak.userprofile.AttributeContext&gt;&nbsp;canEdit,
 <a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;viewRoles)</span></div>
<div class="block">Creates a predicate combining view roles and edit permission.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>canEdit</code> - predicate for edit permission</dd>
<dd><code>viewRoles</code> - set of roles allowed to view</dd>
<dt>Returns:</dt>
<dd>predicate that returns true if view or edit permission holds</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isServiceAccountUser(org.keycloak.models.UserModel)">
<h3>isServiceAccountUser</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isServiceAccountUser</span><wbr><span class="parameters">(org.keycloak.models.UserModel&nbsp;user)</span></div>
<div class="block">Checks if the given user is a service account.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>user</code> - UserModel instance (may be null)</dd>
<dt>Returns:</dt>
<dd>true if user has a linked service account client</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="parseConfigOrDefault(org.keycloak.component.ComponentModel)">
<h3>parseConfigOrDefault</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">org.keycloak.representations.userprofile.config.UPConfig</span>&nbsp;<span class="element-name">parseConfigOrDefault</span><wbr><span class="parameters">(org.keycloak.component.ComponentModel&nbsp;component)</span></div>
<div class="block">Parses raw JSON from component or falls back to default parsed config.</div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code>parseConfigOrDefault</code>&nbsp;in class&nbsp;<code>org.keycloak.userprofile.DeclarativeUserProfileProvider</code></dd>
<dt>Parameters:</dt>
<dd><code>component</code> - ComponentModel containing JSON</dd>
<dt>Returns:</dt>
<dd>UPConfig instance</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="createComponentModel()">
<h3>createComponentModel</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">org.keycloak.component.ComponentModel</span>&nbsp;<span class="element-name">createComponentModel</span>()</div>
<div class="block">Creates the initial component model to store UPConfig when none exists.</div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code>createComponentModel</code>&nbsp;in class&nbsp;<code>org.keycloak.userprofile.DeclarativeUserProfileProvider</code></dd>
<dt>Returns:</dt>
<dd>newly created ComponentModel</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="createConfiguredValidator(java.lang.String,java.util.Map)">
<h3>createConfiguredValidator</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">org.keycloak.userprofile.AttributeValidatorMetadata</span>&nbsp;<span class="element-name">createConfiguredValidator</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;validator,
 <a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&gt;&nbsp;validatorConfig)</span></div>
<div class="block">Constructs validator metadata for user-defined validation rules.</div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code>createConfiguredValidator</code>&nbsp;in class&nbsp;<code>org.keycloak.userprofile.DeclarativeUserProfileProvider</code></dd>
<dt>Parameters:</dt>
<dd><code>validator</code> - validator identifier</dd>
<dd><code>validatorConfig</code> - map of configuration properties</dd>
<dt>Returns:</dt>
<dd>AttributeValidatorMetadata instance</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getConfigFromComponentModel(org.keycloak.component.ComponentModel)">
<h3>getConfigFromComponentModel</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">org.keycloak.representations.userprofile.config.UPConfig</span>&nbsp;<span class="element-name">getConfigFromComponentModel</span><wbr><span class="parameters">(org.keycloak.component.ComponentModel&nbsp;model)</span></div>
<div class="block">Retrieves the UPConfig cached in the component or parses anew.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>model</code> - ComponentModel storing config</dd>
<dt>Returns:</dt>
<dd>UPConfig instance</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="parseAndCacheConfig(org.keycloak.component.ComponentModel)">
<h3>parseAndCacheConfig</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">org.keycloak.representations.userprofile.config.UPConfig</span>&nbsp;<span class="element-name">parseAndCacheConfig</span><wbr><span class="parameters">(org.keycloak.component.ComponentModel&nbsp;model)</span></div>
<div class="block">Parses and caches UPConfig in the given component model.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>model</code> - ComponentModel storing JSON configuration</dd>
<dt>Returns:</dt>
<dd>parsed UPConfig instance</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getParsedConfigFromCache(org.keycloak.component.ComponentModel)">
<h3>getParsedConfigFromCache</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">org.keycloak.representations.userprofile.config.UPConfig</span>&nbsp;<span class="element-name">getParsedConfigFromCache</span><wbr><span class="parameters">(org.keycloak.component.ComponentModel&nbsp;component)</span></div>
<div class="block">Retrieves cached UPConfig from component notes.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>component</code> - ComponentModel to retrieve cache from</dd>
<dt>Returns:</dt>
<dd>UPConfig instance or null if not cached</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="removeConfigJsonFromComponentModel(org.keycloak.component.ComponentModel)">
<h3>removeConfigJsonFromComponentModel</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">removeConfigJsonFromComponentModel</span><wbr><span class="parameters">(org.keycloak.component.ComponentModel&nbsp;model)</span></div>
<div class="block">Removes raw JSON config from component, forcing re-parse next time.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>model</code> - ComponentModel</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="close()">
<h3>close</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">close</span>()</div>
<div class="block">No-op cleanup when provider is closed.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code>close</code>&nbsp;in interface&nbsp;<code>org.keycloak.provider.Provider</code></dd>
<dt>Overrides:</dt>
<dd><code>close</code>&nbsp;in class&nbsp;<code>org.keycloak.userprofile.DeclarativeUserProfileProvider</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="createUserDefinedProfileDecorator(org.keycloak.models.KeycloakSession,org.keycloak.userprofile.UserProfileMetadata,org.keycloak.component.ComponentModel)">
<h3>createUserDefinedProfileDecorator</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/function/Function.html" title="class or interface in java.util.function" class="external-link">Function</a>&lt;org.keycloak.userprofile.UserProfileContext,<wbr>org.keycloak.userprofile.UserProfileMetadata&gt;</span>&nbsp;<span class="element-name">createUserDefinedProfileDecorator</span><wbr><span class="parameters">(org.keycloak.models.KeycloakSession&nbsp;session,
 org.keycloak.userprofile.UserProfileMetadata&nbsp;decoratedMetadata,
 org.keycloak.component.ComponentModel&nbsp;component)</span></div>
<div class="block">Creates a decorator function to apply user-defined metadata per context.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>session</code> - KeycloakSession</dd>
<dd><code>decoratedMetadata</code> - base metadata cloned</dd>
<dd><code>component</code> - ComponentModel storing user config</dd>
<dt>Returns:</dt>
<dd>function mapping context to decorated metadata</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
